<%- include('header'); -%>
<div class="row mb-4">
    <div class="col-md-4 mb-2">
        <div class="card">
            <div class="card-body">
              <h5 class="card-title">Latest Height</h5>
              <p class="card-text">
                  <%= data.latestHeight %>
              </p>
            </div>
          </div>
    </div>
    <div class="col-md-4 mb-2">
        <div class="card">
            <div class="card-body">
              <h5 class="card-title">Block Reward</h5>
              <p class="card-text">
                  <%= data.blockReward %> XFSC
              </p>
            </div>
          </div>
    </div>
    <div class="col-md-4 mb-2">
        <div class="card">
            <div class="card-body">
              <h5 class="card-title">Difficulty</h5>
              <p class="card-text">
                <%= data.currentDifficulty %> H
              </p>
            </div>
          </div>
    </div>
</div>
<div class="row mb-4">
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <span style="vertical-align: middle;">LATEST BLOCKS</span>
                <span style="float: right;">
                    
                    <a href="/blocks" >
                      View All
                 </a>
                      </span>
            </div>
            <div class="table-responsive p-2">
                <table class="table mb-0">
                    <thead>
                      <tr>
                        <th>Height</th>
                        <th>Time</th>
                        <th>Miner</th>
                        <th>Txs</th>
                      </tr>
                    </thead>
                    <tbody>
                      <% for (let i=0; i < data.latestBlocks.length; i++) { %>
                      <tr>
                        <td>
                            <a href="/blocks/<%= data.latestBlocks[i].height %>">
                                <%= data.latestBlocks[i].height %>
                            </a>
                        </td>
                        <td>
                          <span class="fs-6"><%= data.latestBlocks[i].timestr %></span>
                        </td>
                        <td>
                          <div class="text-truncate" style="max-width: 16rem;min-width: 16rem;">
                            <a href="/addr/<%= data.latestBlocks[i].coinbase %>">
                              <%= data.latestBlocks[i].coinbase %>
                            </a>
                          </div>
                        </td>
                        <td><%= data.latestBlocks[i].txcount %></td>                      
                      </tr>
                      <% } %>
                    </tbody>
                  </table>
            </div>
          </div>
    </div>
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <span style="vertical-align: middle;">LATEST TRANSACTIONS</span>
                
                <span style="float: right;">
                    
                    <a href="/txs" >
                        View All
                   </a>
                </span>
            </div>
            <div class="table-responsive p-2">
                <table class="table mb-0">
                    <thead>
                      <tr>
                        <th>TX HASH</th>
                        <th>Time</th>
                        <th>From</th>
                        <th>To</th>
                        <th>Val</th>
                      </tr>
                    </thead>
                    <tbody>
                      <% if (data.latestTxs === null || data.latestTxs.length === 0) {%>
                      <tr style="text-align: center;">
                        <td colspan="5">
                          <div style="padding: 4rem 0;">
                            <div style="height: 2rem; color: rgba(0, 0, 0, .7); margin-bottom: 1rem;">
                              <svg xmlns="http://www.w3.org/2000/svg" height="100%" fill="currentColor" class="bi bi-box" viewBox="0 0 16 16">
                                <path d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5 8 5.961 14.154 3.5 8.186 1.113zM15 4.239l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"/>
                              </svg>
                            </div>
                            <h5>No data available</h5>
                          </div>
                        </td>
                      </tr>
                      <% } else {%>
                      <% for (let i=0; i < data.latestTxs.length; i++) { %>
                      <tr>
                        <td>
                            <a href="#">
                                0xc4e7ce6sdfwe...
                            </a>
                        </td>
                        <td>10 secs ago</td>
                        <td>1fs232434...</td>
                        <td>1gdgdsf33...</td>
                        <td>10 XFSC</td>
                      </tr>
                      <% } %>
                      <% } %>
                    </tbody>
                  </table>
            </div>
          </div>
    </div>
  </div>
<%- include('footer'); -%>